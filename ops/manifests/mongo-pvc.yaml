# MongoDB PersistentVolumeClaim
# This PVC provides persistent storage for MongoDB database data.
# MongoDB Community Operator binds this PVC to the MongoDB StatefulSet for data persistence.
# See VERSIONS.md for MongoDB version tracking (managed by MongoDB Community Operator).
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mongo-pvc  # PVC name (referenced by MongoDB Community Operator in MongoDB resource)
  namespace: rocketchat  # Namespace for MongoDB deployment
spec:
  accessModes:
    - ReadWriteOnce  # Single node read/write (StatefulSet uses one replica)
  resources:
    requests:
      storage: 2Gi  # Storage size (adjust based on database size requirements)
  # AKS Migration: Changed from local-storage to managed-premium (Azure Disk)
  # StorageClass: Azure managed-premium StorageClass (dynamically provisions Azure Premium SSD)
  # This replaces the old local-path StorageClass from k3s cluster
  storageClassName: managed-premium  # Azure managed-premium StorageClass (standard AKS StorageClass)

